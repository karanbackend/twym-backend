# ğŸ¯ TWYM Connect Backend - Complete Project Explanation (Hinglish)

> **Yeh document samjhayega ki UI aur Backend kaise interact karte hain, kaunsa API kab call hota hai, aur data kaise flow hota hai - sab kuch simple Hinglish mein!**

---

## ğŸ“± Project Kya Hai?

**TWYM Connect** ek **Digital Business Card aur Networking Platform** hai jahan:

1. **Users apna digital profile banate hain** (jaise business card)
2. **QR code scan karke contacts add karte hain**
3. **Business card scan karke OCR se automatically contact extract karte hain**
4. **Contact forms create karke leads collect karte hain**
5. **Calendar integrate karke events manage karte hain**

**Backend Technology:**
- **NestJS Framework** (Node.js + TypeScript)
- **PostgreSQL Database** (TypeORM)
- **Supabase** (Authentication + File Storage)
- **Google Vision API** (OCR - Business card text extraction)

---

## ğŸ—ï¸ Architecture Overview - Kaise Kaam Karta Hai?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FRONTEND (UI)                            â”‚
â”‚  (React Native Mobile App / Web App)                        â”‚
â”‚                                                             â”‚
â”‚  - User interactions (buttons, forms, clicks)              â”‚
â”‚  - API calls (HTTP requests)                               â”‚
â”‚  - Token storage (local storage)                          â”‚
â”‚  - Data display (lists, cards, forms)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ HTTP/REST API Calls
                   â”‚ (JSON Data + Token)
                   â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                      â”‚
    â”‚         BACKEND - NestJS Server                     â”‚
    â”‚         (Port: 3000, Base URL: /api/v1)            â”‚
    â”‚                                                      â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚  â”‚  Controllers (API Endpoints)                 â”‚   â”‚
    â”‚  â”‚  - ProfilesController                        â”‚   â”‚
    â”‚  â”‚  - ContactsController                       â”‚   â”‚
    â”‚  â”‚  - ContactFormsController                    â”‚   â”‚
    â”‚  â”‚  - CalendarController                        â”‚   â”‚
    â”‚  â”‚  - UsersController                           â”‚   â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â”‚             â”‚                                       â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚  â”‚  Services (Business Logic)                   â”‚   â”‚
    â”‚  â”‚  - ProfilesService                           â”‚   â”‚
    â”‚  â”‚  - ContactsService                           â”‚   â”‚
    â”‚  â”‚  - CalendarService                           â”‚   â”‚
    â”‚  â”‚  - OcrService (Google Vision)                â”‚   â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â”‚             â”‚                                       â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚  â”‚  Repositories (Database Access)              â”‚   â”‚
    â”‚  â”‚  - ProfileRepository                        â”‚   â”‚
    â”‚  â”‚  - ContactRepository                        â”‚   â”‚
    â”‚  â”‚  - UserRepository                           â”‚   â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â”‚             â”‚                                       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚          EXTERNAL SERVICES                           â”‚
    â”‚                                                      â”‚
    â”‚  â”œâ”€> PostgreSQL Database                            â”‚
    â”‚  â”‚   (User, Profile, Contact, Form Data)            â”‚
    â”‚  â”‚                                                   â”‚
    â”‚  â”œâ”€> Supabase                                       â”‚
    â”‚  â”‚   â”œâ”€> Authentication (JWT Tokens)              â”‚
    â”‚  â”‚   â””â”€> File Storage (Images, Business Cards)     â”‚
    â”‚  â”‚                                                   â”‚
    â”‚  â”œâ”€> Google Vision API                             â”‚
    â”‚  â”‚   (OCR - Extract text from business card images)â”‚
    â”‚  â”‚                                                   â”‚
    â”‚  â””â”€> Calendar APIs                                  â”‚
    â”‚      â”œâ”€> Google Calendar API                       â”‚
    â”‚      â””â”€> Microsoft Outlook API                      â”‚
    â”‚                                                      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Authentication Flow - Kaise Login/Token Kaam Karta Hai?

### Step 1: User Login/Signup

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ USER OPENS APP                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ UI CHECKS TOKEN      â”‚
        â”‚ (Local Storage mein) â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                   â”‚
    âœ… Token Valid?      âŒ Token Invalid?
         â”‚                   â”‚
         â–¼                   â–¼
    Go to Home         Go to Login Screen
```

### Step 2: Supabase Authentication

```
USER ENTERS EMAIL/PASSWORD
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FRONTEND: Supabase SDK                  â”‚
â”‚ supabase.auth.signInWithPassword()     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SUPABASE AUTHENTICATES                  â”‚
â”‚ - Validates credentials                 â”‚
â”‚ - Generates JWT Token                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TOKEN MILA (JWT)                         â”‚
â”‚ {                                        â”‚
â”‚   "sub": "user-uuid",                    â”‚
â”‚   "email": "user@example.com",           â”‚
â”‚   "exp": 1234567890,                     â”‚
â”‚   ...                                    â”‚
â”‚ }                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TOKEN SAVED IN LOCAL STORAGE             â”‚
â”‚ (Frontend mein store ho jata hai)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Step 3: API Calls with Token

```
USER MAKES API CALL (e.g., Get Profile)
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FRONTEND ADDS TOKEN TO HEADER:           â”‚
â”‚                                          â”‚
â”‚ GET /api/v1/profiles                     â”‚
â”‚ Authorization: Bearer eyJhbGciOi...     â”‚
â”‚ Content-Type: application/json           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND RECEIVES REQUEST                 â”‚
â”‚                                          â”‚
â”‚ SupabaseAuthGuard checks token:          â”‚
â”‚ 1. Extract token from header             â”‚
â”‚ 2. Verify token signature               â”‚
â”‚ 3. Check token expiry                    â”‚
â”‚ 4. Extract user ID from token            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚
âœ… Valid?    âŒ Invalid?
    â”‚             â”‚
    â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Extract â”‚  â”‚ Return 401   â”‚
â”‚ User ID â”‚  â”‚ Unauthorized â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ REQUEST PROCESSED                        â”‚
â”‚ Controller gets authenticated user       â”‚
â”‚ @CurrentAuthUser() decorator se          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Important Points:**
- **Token = JWT (JSON Web Token)** - Encrypted user identity card
- **Token expiry** - Usually 1 hour, refresh automatically
- **Token storage** - Frontend local storage mein
- **Token validation** - Har protected API call pe check hota hai

---

## ğŸ“Š Complete User Journey - Step by Step Flow

### ğŸ¬ Scenario: "User ne app download kiya aur profile banaya"

#### Step 1: App Open & Check Status

```
USER OPENS APP
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FRONTEND API CALL:                       â”‚
â”‚ GET /api/v1                              â”‚
â”‚ (No auth needed - public endpoint)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND RESPONSE:                        â”‚
â”‚ {                                        â”‚
â”‚   "version": "1.0.0",                    â”‚
â”‚   "status": "running",                   â”‚
â”‚   "features": ["profiles", "contacts"]   â”‚
â”‚ }                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
UI SHOWS: "App is ready!"
```

#### Step 2: User Login

```
USER CLICKS "LOGIN"
        â–¼
USER ENTERS EMAIL + PASSWORD
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FRONTEND: Supabase SDK                  â”‚
â”‚ supabase.auth.signInWithPassword({      â”‚
â”‚   email: "user@example.com",            â”‚
â”‚   password: "password123"               â”‚
â”‚ })                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SUPABASE AUTHENTICATES                   â”‚
â”‚ Returns JWT Token                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TOKEN SAVED:                             â”‚
â”‚ localStorage.setItem('token', jwt)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
USER LOGGED IN âœ“
```

#### Step 3: Create Profile

```
USER CLICKS "CREATE PROFILE"
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UI SHOWS FORM:                           â”‚
â”‚ - First Name                             â”‚
â”‚ - Last Name                              â”‚
â”‚ - Job Title                              â”‚
â”‚ - Bio                                    â”‚
â”‚ - Profile Handle (username)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
USER FILLS FORM
        â–¼
USER CLICKS "SAVE"
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FRONTEND API CALL:                       â”‚
â”‚                                          â”‚
â”‚ POST /api/v1/profiles                    â”‚
â”‚ Authorization: Bearer <token>             â”‚
â”‚ Content-Type: application/json           â”‚
â”‚                                          â”‚
â”‚ Body:                                    â”‚
â”‚ {                                        â”‚
â”‚   "firstName": "Raj",                    â”‚
â”‚   "lastName": "Kumar",                   â”‚
â”‚   "jobTitle": "Software Engineer",       â”‚
â”‚   "bio": "Building amazing apps",        â”‚
â”‚   "profileHandle": "raj-kumar"           â”‚
â”‚ }                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND PROCESSING:                      â”‚
â”‚                                          â”‚
â”‚ 1. SupabaseAuthGuard validates token    â”‚
â”‚ 2. ProfilesController receives request    â”‚
â”‚ 3. ProfilesService.create() called        â”‚
â”‚ 4. Check handle availability              â”‚
â”‚ 5. Save to database (PostgreSQL)        â”‚
â”‚ 6. Generate QR codes                     â”‚
â”‚ 7. Return created profile                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND RESPONSE:                        â”‚
â”‚ {                                        â”‚
â”‚   "id": "profile-uuid-123",              â”‚
â”‚   "userId": "user-uuid-456",             â”‚
â”‚   "firstName": "Raj",                    â”‚
â”‚   "lastName": "Kumar",                   â”‚
â”‚   "profileHandle": "raj-kumar",          â”‚
â”‚   "createdAt": "2025-01-01T10:00:00Z"    â”‚
â”‚ }                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
UI SHOWS: "Profile created successfully!"
```

#### Step 4: Add Phone Number to Profile

```
USER CLICKS "ADD PHONE NUMBER"
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UI SHOWS FORM:                           â”‚
â”‚ - Phone Number                           â”‚
â”‚ - Type (Mobile/Work/Home)                â”‚
â”‚ - Is Primary? (checkbox)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
USER FILLS: "+91-98765-43210", Type: "Mobile"
        â–¼
USER CLICKS "SAVE"
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FRONTEND API CALL:                       â”‚
â”‚                                          â”‚
â”‚ POST /api/v1/profiles/:id/phone-numbers  â”‚
â”‚ Authorization: Bearer <token>             â”‚
â”‚                                          â”‚
â”‚ Body:                                    â”‚
â”‚ {                                        â”‚
â”‚   "phoneNumbers": [                     â”‚
â”‚     {                                    â”‚
â”‚       "number": "+91-98765-43210",      â”‚
â”‚       "type": "mobile",                 â”‚
â”‚       "isPrimary": true                  â”‚
â”‚     }                                    â”‚
â”‚   ]                                      â”‚
â”‚ }                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND PROCESSING:                      â”‚
â”‚                                          â”‚
â”‚ 1. Validate token                        â”‚
â”‚ 2. Check profile ownership               â”‚
â”‚ 3. Save phone number to database         â”‚
â”‚ 4. If isPrimary=true, unset others        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND RESPONSE:                        â”‚
â”‚ {                                        â”‚
â”‚   "id": "phone-uuid",                    â”‚
â”‚   "profileId": "profile-uuid",           â”‚
â”‚   "number": "+91-98765-43210",           â”‚
â”‚   "type": "mobile",                      â”‚
â”‚   "isPrimary": true                      â”‚
â”‚ }                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
UI UPDATES: Phone number added to profile
```

---

## ğŸ“‡ Contact Management Flow - QR Scan & Business Card

### Scenario 1: QR Code Scan Karke Contact Add

```
USER SCANS QR CODE (Other person ka)
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ QR CODE CONTAINS:                        â”‚
â”‚ Profile UUID or Handle                   â”‚
â”‚ (e.g., "raj-kumar" or "uuid-123")       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FRONTEND API CALL:                       â”‚
â”‚                                          â”‚
â”‚ POST /api/v1/contacts/scan               â”‚
â”‚ Authorization: Bearer <token>             â”‚
â”‚                                          â”‚
â”‚ Body:                                    â”‚
â”‚ {                                        â”‚
â”‚   "qrData": "raj-kumar",                 â”‚
â”‚   "method": "qr_scan"                    â”‚
â”‚ }                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND PROCESSING:                      â”‚
â”‚                                          â”‚
â”‚ 1. Validate token                        â”‚
â”‚ 2. Extract profile from QR data          â”‚
â”‚ 3. Get profile details from database      â”‚
â”‚ 4. Create contact entry                  â”‚
â”‚ 5. Tag with "scanned"                    â”‚
â”‚ 6. Save to contacts table                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND RESPONSE:                        â”‚
â”‚ {                                        â”‚
â”‚   "id": "contact-uuid",                  â”‚
â”‚   "firstName": "Raj",                    â”‚
â”‚   "lastName": "Kumar",                   â”‚
â”‚   "email": "raj@example.com",            â”‚
â”‚   "acquiredVia": "scanned",              â”‚
â”‚   "scannedType": "qr_code"               â”‚
â”‚ }                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
UI SHOWS: "Contact added successfully!"
```

### Scenario 2: Business Card Scan Karke OCR

```
USER TAKES PHOTO OF BUSINESS CARD
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FRONTEND PREPARES IMAGE:                 â”‚
â”‚ - Compress if needed                     â”‚
â”‚ - Convert to base64 or FormData          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FRONTEND API CALL:                       â”‚
â”‚                                          â”‚
â”‚ POST /api/v1/contacts/upload-business-cardâ”‚
â”‚ Authorization: Bearer <token>             â”‚
â”‚ Content-Type: multipart/form-data        â”‚
â”‚                                          â”‚
â”‚ Form Data:                               â”‚
â”‚ - file: <image-file>                    â”‚
â”‚ - side: "front"                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND PROCESSING:                      â”‚
â”‚                                          â”‚
â”‚ 1. Validate token                        â”‚
â”‚ 2. Validate file (size, type)            â”‚
â”‚ 3. Upload image to Supabase Storage      â”‚
â”‚ 4. Call Google Vision API (OCR)          â”‚
â”‚    - Extract text from image             â”‚
â”‚    - Parse: Name, Email, Phone, etc.    â”‚
â”‚ 5. Create contact from extracted data    â”‚
â”‚ 6. Link business card image to contact   â”‚
â”‚ 7. Save to database                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND RESPONSE:                        â”‚
â”‚ {                                        â”‚
â”‚   "id": "contact-uuid",                  â”‚
â”‚   "firstName": "John",                   â”‚
â”‚   "lastName": "Doe",                     â”‚
â”‚   "email": "john@company.com",           â”‚
â”‚   "phoneNumbers": [...],                 â”‚
â”‚   "company": "Tech Corp",                â”‚
â”‚   "businessCardImages": [                 â”‚
â”‚     {                                    â”‚
â”‚       "url": "https://storage.../card.jpg"â”‚
â”‚     }                                    â”‚
â”‚   ]                                      â”‚
â”‚ }                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
UI SHOWS: Extracted contact data
USER CAN REVIEW & EDIT IF NEEDED
```

**OCR Flow Detail:**
```
Business Card Image
        â–¼
Upload to Supabase Storage
        â–¼
Google Vision API Call
        â–¼
Extract Text:
- "John Doe"
- "john@company.com"
- "+1-234-567-8900"
- "Tech Corp"
        â–¼
Parse & Structure Data
        â–¼
Create Contact Entity
        â–¼
Save to Database
```

---

## ğŸ“ Contact Forms Flow - Lead Generation

### Step 1: User Creates Contact Form

```
USER GOES TO PROFILE SETTINGS
        â–¼
USER CLICKS "CREATE CONTACT FORM"
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UI SHOWS FORM BUILDER:                  â”‚
â”‚ - Title                                  â”‚
â”‚ - Description                            â”‚
â”‚ - Fields to collect                      â”‚
â”‚   (Name, Email, Phone, Message)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
USER FILLS FORM
        â–¼
USER CLICKS "CREATE"
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FRONTEND API CALL:                       â”‚
â”‚                                          â”‚
â”‚ POST /api/v1/contact-forms              â”‚
â”‚ Authorization: Bearer <token>            â”‚
â”‚                                          â”‚
â”‚ Body:                                    â”‚
â”‚ {                                        â”‚
â”‚   "title": "Project Inquiry",            â”‚
â”‚   "description": "Tell me about...",     â”‚
â”‚   "fields": [                            â”‚
â”‚     { "name": "fullName", "type": "text" },â”‚
â”‚     { "name": "email", "type": "email" },â”‚
â”‚     { "name": "message", "type": "textarea" }â”‚
â”‚   ]                                      â”‚
â”‚ }                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND PROCESSING:                      â”‚
â”‚                                          â”‚
â”‚ 1. Validate token                        â”‚
â”‚ 2. Check if user already has form         â”‚
â”‚ 3. Save form to database                  â”‚
â”‚ 4. Link form to user's profile           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND RESPONSE:                        â”‚
â”‚ {                                        â”‚
â”‚   "id": "form-uuid",                     â”‚
â”‚   "userId": "user-uuid",                 â”‚
â”‚   "profileId": "profile-uuid",           â”‚
â”‚   "title": "Project Inquiry",            â”‚
â”‚   "isEnabled": true                      â”‚
â”‚ }                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
FORM IS NOW LIVE!
(Doosre log submit kar sakte hain)
```

### Step 2: Visitor Submits Form (Public - No Login)

```
VISITOR VISITS PROFILE PAGE
https://app.com/raj-kumar
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FRONTEND API CALL (NO AUTH):            â”‚
â”‚                                          â”‚
â”‚ GET /api/v1/contact-forms/public/:profileIdâ”‚
â”‚ (Public endpoint - no token needed)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND RESPONSE:                        â”‚
â”‚ {                                        â”‚
â”‚   "id": "form-uuid",                     â”‚
â”‚   "title": "Project Inquiry",            â”‚
â”‚   "fields": [...]                        â”‚
â”‚ }                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
VISITOR SEES FORM ON PROFILE PAGE
        â–¼
VISITOR FILLS FORM:
- Name: "Neha"
- Email: "neha@company.com"
- Message: "Want to collaborate..."
        â–¼
VISITOR CLICKS "SUBMIT"
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FRONTEND API CALL (NO AUTH):            â”‚
â”‚                                          â”‚
â”‚ POST /api/v1/contact-forms/submit/:profileIdâ”‚
â”‚ (Rate limit: 10/day per IP)             â”‚
â”‚                                          â”‚
â”‚ Body:                                    â”‚
â”‚ {                                        â”‚
â”‚   "fullName": "Neha",                    â”‚
â”‚   "email": "neha@company.com",           â”‚
â”‚   "message": "Want to collaborate...",   â”‚
â”‚   "visitorIp": "203.0.113.45"           â”‚
â”‚ }                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND PROCESSING:                      â”‚
â”‚                                          â”‚
â”‚ 1. Check rate limit (10/day per IP)      â”‚
â”‚ 2. Validate form exists & enabled       â”‚
â”‚ 3. Save submission to database           â”‚
â”‚ 4. Mark as unread                        â”‚
â”‚ 5. (Optional) Send notification email    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND RESPONSE:                        â”‚
â”‚ {                                        â”‚
â”‚   "id": "submission-uuid",               â”‚
â”‚   "message": "Thank you! We'll get back soon"â”‚
â”‚ }                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
VISITOR SEES: "Thank you for your message!"
```

### Step 3: User Checks Inbox

```
USER CLICKS "INBOX" / "MESSAGES"
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FRONTEND API CALL:                       â”‚
â”‚                                          â”‚
â”‚ GET /api/v1/contact-forms/submissions   â”‚
â”‚ Authorization: Bearer <token>             â”‚
â”‚                                          â”‚
â”‚ Query Params (optional):                 â”‚
â”‚ ?unreadOnly=true                         â”‚
â”‚ ?page=1&limit=20                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND PROCESSING:                      â”‚
â”‚                                          â”‚
â”‚ 1. Validate token                        â”‚
â”‚ 2. Get user's submissions                â”‚
â”‚ 3. Filter by unread if requested         â”‚
â”‚ 4. Paginate results                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND RESPONSE:                        â”‚
â”‚ [                                        â”‚
â”‚   {                                      â”‚
â”‚     "id": "submission-uuid",            â”‚
â”‚     "visitorName": "Neha",               â”‚
â”‚     "visitorEmail": "neha@company.com", â”‚
â”‚     "message": "Want to collaborate...", â”‚
â”‚     "createdAt": "2025-01-01T10:00:00Z",â”‚
â”‚     "read": false                        â”‚
â”‚   },                                     â”‚
â”‚   ...more submissions                    â”‚
â”‚ ]                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
UI SHOWS: List of submissions
(Unread ones highlighted)
```

---

## ğŸ“… Calendar Integration Flow

### Step 1: Connect Google Calendar

```
USER GOES TO "CALENDAR" TAB
        â–¼
USER CLICKS "CONNECT GOOGLE CALENDAR"
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FRONTEND REDIRECTS TO:                   â”‚
â”‚ Google OAuth Consent Screen              â”‚
â”‚ (User logs in with Google account)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
USER GRANTS PERMISSION
(To read calendar events)
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GOOGLE RETURNS AUTHORIZATION CODE        â”‚
â”‚ (OAuth callback)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FRONTEND API CALL:                       â”‚
â”‚                                          â”‚
â”‚ POST /api/v1/calendar/connect            â”‚
â”‚ Authorization: Bearer <token>             â”‚
â”‚                                          â”‚
â”‚ Body:                                    â”‚
â”‚ {                                        â”‚
â”‚   "provider": "google",                  â”‚
â”‚   "code": "4/0AY0e..." (OAuth code)     â”‚
â”‚ }                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND PROCESSING:                      â”‚
â”‚                                          â”‚
â”‚ 1. Validate token                        â”‚
â”‚ 2. Exchange OAuth code for access token  â”‚
â”‚ 3. Get refresh token                     â”‚
â”‚ 4. Store tokens in database (encrypted)  â”‚
â”‚ 5. Mark calendar as "connected"         â”‚
â”‚ 6. Schedule auto-refresh job            â”‚
â”‚    (tokens expire, need refresh)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND RESPONSE:                        â”‚
â”‚ {                                        â”‚
â”‚   "provider": "google",                  â”‚
â”‚   "status": "connected",                 â”‚
â”‚   "connectedAt": "2025-01-01T10:00:00Z" â”‚
â”‚ }                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
UI SHOWS: "Calendar connected âœ“"
```

### Step 2: Sync Calendar Events

```
CALENDAR CONNECTED âœ“
        â–¼
USER CLICKS "SYNC EVENTS"
(OR Auto-sync triggered)
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FRONTEND API CALL:                       â”‚
â”‚                                          â”‚
â”‚ POST /api/v1/calendar/google/sync        â”‚
â”‚ Authorization: Bearer <token>             â”‚
â”‚                                          â”‚
â”‚ Body:                                    â”‚
â”‚ {                                        â”‚
â”‚   "startDate": "2025-01-01",             â”‚
â”‚   "endDate": "2025-12-31"                â”‚
â”‚ }                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND PROCESSING:                      â”‚
â”‚                                          â”‚
â”‚ 1. Validate token                        â”‚
â”‚ 2. Get stored access token from database â”‚
â”‚ 3. Call Google Calendar API              â”‚
â”‚    - Fetch events for date range          â”‚
â”‚    - Get: title, time, location, attendeesâ”‚
â”‚ 4. Cache results (15 minutes)            â”‚
â”‚ 5. Save to database                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND RESPONSE:                        â”‚
â”‚ [                                        â”‚
â”‚   {                                      â”‚
â”‚     "id": "event-123",                   â”‚
â”‚     "title": "Team Meeting",             â”‚
â”‚     "startTime": "2025-01-01T10:00:00Z",â”‚
â”‚     "endTime": "2025-01-01T11:00:00Z",  â”‚
â”‚     "location": "Meeting Room",         â”‚
â”‚     "attendees": [...]                   â”‚
â”‚   },                                     â”‚
â”‚   ...more events                         â”‚
â”‚ ]                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
UI SHOWS: Calendar events displayed
```

---

## ğŸ“ File Upload Flow - Profile Photo

```
USER CLICKS "UPLOAD PHOTO"
        â–¼
USER SELECTS IMAGE FROM DEVICE
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FRONTEND PREPARES FILE:                  â”‚
â”‚ - Compress image                         â”‚
â”‚ - Create thumbnail                       â”‚
â”‚ - Resize if needed                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FRONTEND API CALL:                       â”‚
â”‚                                          â”‚
â”‚ POST /api/v1/profiles/:id/profile-image  â”‚
â”‚ Authorization: Bearer <token>             â”‚
â”‚ Content-Type: multipart/form-data        â”‚
â”‚                                          â”‚
â”‚ Form Data:                               â”‚
â”‚ - file: <image-buffer>                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND PROCESSING:                      â”‚
â”‚                                          â”‚
â”‚ 1. Validate token                        â”‚
â”‚ 2. Validate file (size, type)             â”‚
â”‚ 3. Generate unique filename              â”‚
â”‚ 4. Upload to Supabase Storage           â”‚
â”‚    (Cloud storage bucket)                â”‚
â”‚ 5. Generate public URL                   â”‚
â”‚ 6. Save reference in database             â”‚
â”‚ 7. Delete old photo (if exists)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BACKEND RESPONSE:                        â”‚
â”‚ {                                        â”‚
â”‚   "fileId": "file-uuid",                 â”‚
â”‚   "profileId": "profile-uuid",          â”‚
â”‚   "fileName": "raj_profile_abc123.jpg",  â”‚
â”‚   "url": "https://storage.../raj_profile_abc123.jpg",â”‚
â”‚   "uploadedAt": "2025-01-01T10:00:00Z"  â”‚
â”‚ }                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
UI UPDATES: Profile photo displayed
```

---

## ğŸ”„ Complete Flow Example: "Networking Event Day"

### Morning: Preparation

```
1. USER OPENS APP
   â”œâ”€> GET /api/v1 (Check server status)
   â””â”€> Already logged in via token

2. USER VIEWS PROFILE
   â”œâ”€> GET /api/v1/profiles/by-user/:userId
   â””â”€> Confirms everything is correct

3. USER GENERATES QR CODE
   â”œâ”€> GET /api/v1/profiles/:handle/page-qr.png
   â””â”€> Prints/displays QR code for event

4. USER UPLOADS PROFILE PHOTO
   â”œâ”€> POST /api/v1/profiles/:id/profile-image
   â””â”€> âœ“ Profile ready
```

### Afternoon: At the Event

```
5. PERSON 1 SCANS USER'S QR CODE
   â”œâ”€> Person 1's phone gets user's profile UUID
   â”œâ”€> POST /api/v1/contacts/scan
   â””â”€> Person 1 saved user in their network

6. USER MEETS PERSON 2
   â”œâ”€> USER SCANS PERSON 2'S QR CODE
   â”œâ”€> POST /api/v1/contacts/scan
   â””â”€> Person 2 now in user's network

7. USER MEETS PERSON 3 (WITHOUT APP)
   â”œâ”€> Gets business card
   â”œâ”€> POST /api/v1/contacts/upload-business-card
   â”œâ”€> Backend runs OCR (Google Vision API)
   â”œâ”€> Extracts: Name, Email, Phone, Company
   â””â”€> âœ“ Contact added automatically

8. USER MEETS PERSON 4 (HAS CALENDAR)
   â”œâ”€> Conversation leads to future meeting
   â”œâ”€> GET /api/v1/calendar/google/events
   â””â”€> Schedule meeting
```

### Evening: Back Home

```
9. USER REVIEWS CONTACTS
   â”œâ”€> GET /api/v1/contacts
   â”œâ”€> Edits details if needed
   â”‚   â””â”€> PATCH /api/v1/contacts/:id
   â””â”€> Exports as vCard
       â””â”€> GET /api/v1/contacts/:id/vcard

10. USER CREATES FOLLOW-UP CONTACT FORM
    â”œâ”€> POST /api/v1/contact-forms
    â””â”€> Form now receives submissions

11. PERSON 1 VISITS USER'S PROFILE (NO LOGIN)
    â”œâ”€> GET /api/v1/profiles/by-handle/user-handle
    â”œâ”€> GET /api/v1/contact-forms/public/:profileId
    â”œâ”€> POST /api/v1/contact-forms/submit/:profileId
    â””â”€> âœ“ Submission saved

12. USER CHECKS INBOX
    â”œâ”€> GET /api/v1/contact-forms/submissions
    â”œâ”€> Reads Person 1's message
    â”œâ”€> PATCH /api/v1/contact-forms/submissions/:id/mark-read
    â””â”€> Replies or archives
```

---

## ğŸ“‹ API Request/Response Pattern

### Request Format

```javascript
// Protected API (needs token)
POST /api/v1/profiles
Headers: {
  "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "Content-Type": "application/json"
}
Body: {
  "firstName": "Raj",
  "lastName": "Kumar"
}

// Public API (no token)
GET /api/v1/profiles/by-handle/raj-kumar
Headers: {
  "Content-Type": "application/json"
}
```

### Response Format

```javascript
// Success Response
{
  "id": "profile-uuid",
  "firstName": "Raj",
  "lastName": "Kumar",
  "createdAt": "2025-01-01T10:00:00Z"
}

// Error Response
{
  "statusCode": 400,
  "message": "Profile handle already exists",
  "error": "Bad Request",
  "timestamp": "2025-01-01T10:00:00Z"
}
```

---

## ğŸ›¡ï¸ Security & Rate Limiting

### Rate Limits

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GENERAL API RATE LIMIT:             â”‚
â”‚ 100 calls per 15 minutes            â”‚
â”‚ Per IP/User                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CONTACT FORM SUBMIT:                â”‚
â”‚ 10 calls per day per IP             â”‚
â”‚ (To prevent spam)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Error Handling

```
Token Expired (401)
        â–¼
Frontend catches error
        â–¼
Calls Supabase refresh token
        â–¼
Gets new token
        â–¼
Retries original API call âœ“
```

---

## ğŸ“Š Data Flow Summary

### Create Operation Flow

```
UI Action
    â†“
Frontend API Call (POST)
    â†“
Backend Controller
    â†“
Service (Business Logic)
    â†“
Repository (Database)
    â†“
PostgreSQL Database
    â†“
Response Back to UI
```

### Read Operation Flow

```
UI Action
    â†“
Frontend API Call (GET)
    â†“
Backend Controller
    â†“
Service (Business Logic)
    â†“
Repository (Database Query)
    â†“
PostgreSQL Database
    â†“
Response Back to UI
```

### Update Operation Flow

```
UI Action
    â†“
Frontend API Call (PATCH)
    â†“
Backend Controller
    â†“
Service (Validate & Update)
    â†“
Repository (Database Update)
    â†“
PostgreSQL Database
    â†“
Response Back to UI
```

---

## ğŸ¯ Key Takeaways

### 1. **Authentication**
- Supabase handles login/signup
- JWT token stored in frontend
- Token sent with every protected API call
- Backend validates token via `SupabaseAuthGuard`

### 2. **API Structure**
- Base URL: `/api/v1`
- RESTful endpoints (GET, POST, PATCH, DELETE)
- JSON request/response format
- Public endpoints (no auth) vs Protected endpoints (auth required)

### 3. **Data Flow**
- Frontend â†’ Backend â†’ Database â†’ Backend â†’ Frontend
- External services: Supabase (auth/storage), Google Vision (OCR), Calendar APIs

### 4. **File Handling**
- Images uploaded to Supabase Storage
- Public URLs generated for access
- File references saved in database

### 5. **Error Handling**
- Standard HTTP status codes (200, 400, 401, 404, 500)
- Error messages in response body
- Frontend handles errors and shows user-friendly messages

---

## ğŸ“ Common API Endpoints Reference

| Feature | Endpoint | Method | Auth? | Description |
|---------|----------|--------|-------|-------------|
| **System** | `/api/v1` | GET | âŒ | Check server status |
| **Profiles** | `/api/v1/profiles` | POST | âœ… | Create profile |
| | `/api/v1/profiles` | GET | âŒ | List profiles |
| | `/api/v1/profiles/:id` | GET | âŒ | Get profile |
| | `/api/v1/profiles/:id` | PATCH | âœ… | Update profile |
| **Contacts** | `/api/v1/contacts` | POST | âœ… | Create contact |
| | `/api/v1/contacts/scan` | POST | âœ… | Scan QR code |
| | `/api/v1/contacts/upload-business-card` | POST | âœ… | Upload card |
| **Contact Forms** | `/api/v1/contact-forms` | POST | âœ… | Create form |
| | `/api/v1/contact-forms/submit/:profileId` | POST | âŒ | Submit form |
| | `/api/v1/contact-forms/submissions` | GET | âœ… | View submissions |
| **Calendar** | `/api/v1/calendar/connect` | POST | âœ… | Connect calendar |
| | `/api/v1/calendar/:provider/sync` | POST | âœ… | Sync events |
| | `/api/v1/calendar/:provider/events` | GET | âœ… | Get events |

---

## âœ… Summary

**Yeh backend system 5 main features provide karta hai:**

1. **PROFILES** - Digital business card creation & management
2. **CONTACTS** - Network management (QR scan, OCR, manual)
3. **CONTACT FORMS** - Lead generation & inbox
4. **CALENDAR** - Event integration (Google & Outlook)
5. **FILES** - Image & file storage

**Frontend aur Backend ke beech har action ke liye:**
- HTTP Request bhejta hai (method: GET/POST/PATCH/DELETE)
- Backend process karta hai
- JSON response bhejta hai
- Frontend UI update karta hai

**Token authentication se security milti hai:**
- Login ke baad token milta hai
- Har protected request mein token attach hota hai
- Token expire hote hain aur refresh hote hain
- Rate limiting se abuse prevent hota hai

**Ab aap samajh gaye ho ki kaunsa API kaunsa kaam karta hai!** ğŸš€

